# java


<img width="984" height="645" alt="image" src="https://github.com/user-attachments/assets/5be98311-641e-4d33-939f-e02496250281" />

Задание:
Создайте топологию сети, состоящую из двух коммутаторов и двух компьютеров, как
показано на рисунке. Настройте IP-адреса в соответствии со схемой IP-адресации и
отправьте эхо-запрос между всеми устройствами в сети.
Выведите таблицу MAC-адресов и таблицу ARP на двух коммутаторах, а также составьте
таблицу соответствия всех MAC-адресов устройствам (или интерфейсам).



2. Подключение к устройствам и конфигурирование сети
2.1. Подключитесь к S1 (на данном этапе устройство является маршрутизатором). Введите
логин (admin) и пароль (password) пользователя по умолчанию.
```
admin
password
```

2.2. Измените пароль для пользователя admin (это нужно для того, чтобы получить доступ
к устройству):
```
vesr(change-expired-password)# password 12345678
```
2.3. Примените и сохраните изменения:
```
vesr(change-expired-password)# commit
vesr(change-expired-password)# confirm
vesr#
```
2.4. Войдите в режим конфигурирования и установите имя хоста на S1:
```
vesr# configure
vesr(config)# hostname S1
```
2.5. Сохраните изменения в постоянную память устройства:
```
vesr(config)# exit
vesr# commit
S1# confirm
```
2.6. Проверьте доступ к интерфейсам S1, перейдя в debug-меню, и отобразите
информацию про MAC-адреса интерфейсов:
```
S1# debug
S1(debug)# show nic
```
2.7. Привяжите MAC-адреса интерфейсов gi1/0/1 и gi1/0/2 (2 первых интерфейса) к
интерфейсам e1 и e2, которые используются в вашей топологии. Вместо xx:xx:xx:xx:xx:01
и xx:xx:xx:xx:xx:02 указываются реальные значения MAC-адресов, которые вы увидели в
предыдущем пункте. Для подтверждения изменений нажмите «y».
КАК ЭТО РАБОТАЕТ:
<img width="1022" height="560" alt="image" src="https://github.com/user-attachments/assets/08dae6b2-6066-45ba-bf44-1a53edfeae1c" />

```
S1(debug)# nic bind mac xx:xx:xx:xx:xx:01 gi1/0/1
S1(debug)# nic bind mac xx:xx:xx:xx:xx:02 gi1/0/2
S1(debug)# exit
```
2.8. Задайте серийный номер:
```
S1# set serial-number VESR0000001
```
2.9. Для применения настроек необходимо выполнить перезагрузку устройства
```
S1# reload system
```
2.10. Измените маршрутизируемые порты на «порты коммутатора»
```
S1# configure
S1(config)# interface gi1/0/1-2
S1(config-if-gi)# mode switchport
S1(config-if-gi)# exit
```
2.11. Создайте новый сетевой мост bridge 1 и присвойте ему IP-адрес, а также измените
MAC-адрес моста и отключите firewall:
```
S1(config)# bridge 1
S1(config-bridge)# vlan 1
S1(config-bridge)# enable
S1(config-bridge)# ip address 192.168.1.2/24
S1(config-bridge)# mac-address a2:20:00:00:00:00
S1(config-bridge)# ip firewall disable
S1(config-bridge)# end
S1# commit
S1# confirm
```
2.12. Подключитесь к S2 (на данном этапе устройство является маршрутизатором).
Введите логин (admin) и пароль (password) пользователя по умолчанию.
```
```
2.13. Измените пароль для пользователя admin (это нужно для того, чтобы получить
доступ к устройству):
```
vesr(change-expired-password)# password 12345678
```
2.14. Примените и сохраните изменения:
```
vesr(change-expired-password)# commit
vesr(change-expired-password)# confirm
vesr#
```
2.15. Войдите в режим конфигурирования и установите имя хоста на S2:
```
vesr# configure
vesr(config)# hostname S2
```
2.16. Сохраните изменения в постоянную память устройства:
```
vesr(config)# exit
vesr# commit
S2# confirm
```
2.17. Проверьте доступ к интерфейсам S2, перейдя в debug-меню, и отобразите
информацию про MAC-адреса интерфейсов:
```
S2# debug
S2(debug)# show nic
```
2.18. Привяжите MAC-адреса интерфейсов gi1/0/1 и gi1/0/2 (2 первых интерфейса) к
интерфейсам e1 и e2, которые используются в вашей топологии. Вместо xx:xx:xx:xx:xx:01
и xx:xx:xx:xx:xx:02 указываются реальные значения MAC-адресов, которые вы увидели в
предыдущем пункте. Для подтверждения изменений нажмите «y».
```
S2(debug)# nic bind mac xx:xx:xx:xx:xx:01 gi1/0/1
S2(debug)# nic bind mac xx:xx:xx:xx:xx:02 gi1/0/2
S2(debug)# exit
```
2.19. Задайте серийный номер:
```
S2# set serial-number VESR0000002
```
2.20. Для применения настроек необходимо выполнить перезагрузку устройства
```
S2# reload system 
```
2.21. Измените маршрутизируемые порты на «порты коммутатора»
```
S2# configure
S2(config)# interface gi1/0/1-2
S2(config-if-gi)# mode switchport
S2(config-if-gi)# exit
```
2.22. Создайте новый сетевой мост bridge 1 и присвойте ему IP-адрес, а также измените
MAC-адрес моста и отключите firewall:
```
S2(config)# bridge 1
S2(config-bridge)# vlan 1
S2(config-bridge)# enable
S2(config-bridge)# ip address 192.168.1.3/24
S2(config-bridge)# mac-address a2:30:00:00:00:00
S2(config-bridge)# ip firewall disable
S2(config-bridge)# end
S2# commit
S2# confirm
```
3. Конфигурация хостов и проверка подключения
3.1. Подключитесь к компьютеру VPC-1 и настройте ему IP-адрес и маску подсети:
```
VPCS> ip 192.168.1.22 255.255.255.0
```
3.2. Подключитесь к компьютеру VPC-2 и настройте ему IP-адрес и маску подсети:
```
VPCS> ip 192.168.1.33 255.255.255.0
```
3.3. Отправьте эхо-запрос с первого коммутатора S1 до всех устройств в сети:
```
S1# ping 192.168.1.2
S1# ping 192.168.1.3
S1# ping 192.168.1.22
S1# ping 192.168.1.33
```
Эхо-запрос во всех случаях должен проходить успешно (вы должны увидеть
восклицательные знаки).
Примечание: если эхо-запрос не проходит, проверьте настройки IP-адресации. На
коммутаторах можно ввести команду show ip interfaces. На компьютерах для
проверки IP-адресации введите команду show ip. Также можно проверить привязку
MAC-адресов к интерфейсам командой show interfaces status и правильность
выбранных интерфейсов в вашей топологии.



4. Изучение таблицы MAC-адресов
Теоретическое введение:
MAC-адрес – это уникальный идентификатор (физический адрес), присваиваемый
каждому сетевому интерфейсу или единицу оборудования в компьютерных сетях Ethernet.
MAC-адрес Ethernet состоит из кода OUI поставщика, за которым следует 6
шестнадцатеричных значений поставщика (уникальный адрес сетевой карты).

<img width="951" height="230" alt="image" src="https://github.com/user-attachments/assets/01f32687-91d7-4ca4-8c8d-930bb285d324" />


При каждом поступлении кадра в коммутатор выполняется проверка на наличие новой
информации. Проверяются MAC-адрес источника, указанный в кадре, и номер порта, по
которому кадр поступает в коммутатор.
Если MAC-адрес источника отсутствует, он добавляется в таблицу вместе с номером
входящего порта.
Если MAC-адрес источника уже существует, коммутатор обновляет таймер обновления
для этой записи. По умолчанию в большинстве коммутаторов Ethernet данные в таблице
хранятся в течение 5 минут.

<img width="426" height="458" alt="image" src="https://github.com/user-attachments/assets/bed578e3-b948-4b7d-b63e-b97d8ee9fb20" />

Если MAC-адрес назначения является адресом одноадресной рассылки, коммутатор ищет
совпадения между MAC-адресом назначения кадра и записью в таблице MAC-адресов.
Если MAC-адрес назначения есть в таблице, коммутатор пересылает кадр через указанный
порт.
Если MAC-адреса назначения нет в таблице, коммутатор пересылает кадр через все
порты, кроме входящего порта. Это называется одноадресной рассылкой неизвестному
получателю.

4.1. Откройте командную строку на VPC-1 и VPC-2 и отобразите физические адреса
компьютеров:
```
VPCS> show ip
```
4.2. Проанализируйте:
1) Какая часть MAC-адреса этих устройств соответствует OUI?
2) Какая часть MAC-адреса этих устройств соответствует серийному номеру?
```
```
4.3. Подключитесь к коммутаторам S1 и S2 и отобразите MAC-адреса интерфейсов gi1/0/1
и gi1/0/2:
```
S1# show interfaces status | include gi1/0/1
S1# show interfaces status | include gi1/0/2
S2# show interfaces status | include gi1/0/1
S2# show interfaces status | include gi1/0/2
```
4.4. На коммутаторе S2 отобразите таблицу MAC-адресов и сразу же после этого таблицу
ARP. Перед этим необходимо отправить эхо-запрос с данного устройства на все IP-адреса
в данной топологии.
```
S2# show mac address-table
S2# show arp
```
4.5. Проанализируйте, чьи (каких устройств) MAC-адреса указаны в таблице MACадресов с помощью таблицы ARP. Занесите всю возможную информацию в таблицу:
<img width="1017" height="258" alt="image" src="https://github.com/user-attachments/assets/07e0a7c2-62a0-4279-b9fa-bc28d83bb958" />
```
```
4.6. Очистите таблицу MAC-адресов. А затем заново ее отобразите.
```
S2# clear mac address-table
S2# show mac address-table
```
Если на данном этапе вы увидели в таблице один MAC-адрес, то он принадлежит
интерфейсу gi1/0/1 коммутатора S1 (при необходимости проверьте данный факт с
помощью соответствующей команды и дополните таблицу).


4.7. Отправьте эхо-запрос с S1 на компьютер VPC-1.
```
S1# ping 192.168.1.22
```

```
```

4.8. Посмотрите таблицу ARP на компьютере VPC-1.
```
VPCS> show arp
```
Чей MAC- и IP-адрес отобразился в таблице? Через сколько времени исчезнет данная
запись?




4.9. Отправьте эхо-запрос с S2 на компьютер VPC-2.
```
S2# ping 192.168.1.33
```
4.10. Посмотрите таблицу ARP на компьютере VPC-2.
```
VPCS> show arp
```
Чей MAC- и IP-адрес отобразился в таблице? Через сколько времени исчезнет данная
запись?



4.11. Очистите таблицу ARP на компьютере VPC-2 и заново ее отобразите.
```
VPCS> clear arp
VPCS> show arp
```

Результат практической работы: показать, что эхо-запрос проходит между всеми
устройствами, а также составить таблицу соответствия всех MAC-адресов устройствам
(или интерфейсам), которые отображались в таблице MAC-адресов коммутатора S2.
